{
  "code": "export default class ImageEffect {\r\n    constructor() {\r\n        this.arr = [];\r\n        this.index = 1;\r\n    }\r\n    start() {\r\n        Laya.timer.loop(300, this, this.onUpdate);\r\n    }\r\n    onUpdate() {\r\n        let img;\r\n        let arr1;\r\n        let s1;\r\n        let s2;\r\n        for (let i = 0; i < this.arr.length; i++) {\r\n            img = this.arr[i];\r\n            arr1 = img.skin.split(\".\");\r\n            if (arr1.length == 2) {\r\n                s1 = arr1[0];\r\n                s2 = arr1[1];\r\n                s1 = s1.substr(0, s1.length - 1);\r\n                img.skin = s1 + this.index + \".\" + s2;\r\n            }\r\n        }\r\n        this.index++;\r\n        if (this.index > 3) {\r\n            this.index = 1;\r\n        }\r\n    }\r\n    addEffect(spr) {\r\n        spr.on(Laya.Event.DISPLAY, this, this.onDis, [spr]);\r\n        spr.on(Laya.Event.UNDISPLAY, this, this.onUndis, [spr]);\r\n    }\r\n    onDis(spr) {\r\n        this.arr.push(spr);\r\n    }\r\n    onUndis(spr) {\r\n        for (let i = 0; i < this.arr.length; i++) {\r\n            let spr = this.arr[i];\r\n            if (spr) {\r\n                this.arr.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": []
}
